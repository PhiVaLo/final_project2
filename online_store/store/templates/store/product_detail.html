{% extends 'store/base.html' %}

{% block no-bootstrap %}{% endblock no-bootstrap %}

{% block content %}
<!-- =================================================================================== -->
<!-- single product details -->
<!-- =================================================================================== -->

<div class="small-container single-product">
    <div class="row">
        <div class="col-2">
            <img id="product-img" src="{{ product.imageURL }}" width="100%">

            <div class="small-img-row">
                {% if product.image_subs1 %}
                <div class="small-img-col">
                    <img class="small-img" src="{{ product.image_subs1.url }}" width="100%">
                </div>
                {% endif %}
                {% if product.image_subs2 %}
                <div class="small-img-col">
                    <img class="small-img" src="{{ product.image_subs2.url }}" width="100%">
                </div>
                {% endif %}
                {% if product.image_subs3 %}
                <div class="small-img-col">
                    <img class="small-img" src="{{ product.image_subs3.url }}" width="100%">
                </div>
                {% endif %}
                {% if product.image_subs4 %}
                <div class="small-img-col">
                    <img class="small-img" src="{{ product.image_subs4.url }}" width="100%">
                </div>
                {% endif %}
            </div>

        </div>
        <div class="col-2">
            <p>Category: {{ product.category }}</p>
            <h1>{{ product.name }}</h1>
            <h4>${{ product.price }}</h4>
            <select>
                <option>Select Size</option>
                <option>XXL</option>
                <option>XL</option>
                <option>Large</option>
                <option>Medium</option>
                <option>Small</option>
            </select>
            <input type="number" value=1 min="1">
            <a href="#" data-product={{ product.id }} data-action="add" class="btn-1 update-cart">Add To Cart</a>

            <h3>Product Details <i class="fa fa-indent"></i></h3>
            <br>
            <p>{{ product.description }}</p>
        </div>
    </div>
</div>

<!-- title -->
<div class="small-container">
    <div class="row row-2">
        <h2>Related Products</h2>
        <a href="{% url 'store' %}">
        View more
        </a>
    </div>
</div>

<!-- products -->
<div class="small-container">

    <div class="row">
        <div class="col-4">
            <img src="{{ product.imageURL }}">
            <h4>TEST</h4>
            <div class="rating">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="far fa-star"></i>
            </div>
            <p>${{ product.price }}</p>
            <p>{{ category.name }}</p>
        </div>
    </div>

</div>
{% endblock content %}

<!-- ----------------------------------------------------------------------------------- -->

{% block script %}
<!-- js for product gallery -->
<script>
    let product_img = document.getElementById("product-img");
    let small_img = document.getElementsByClassName("small-img");

    for (let i = 0; i < 4; i++) {
        small_img[i].onclick = function () {
            product_img.src = small_img[i].src;
        }
    }
</script>
{% endblock script %}